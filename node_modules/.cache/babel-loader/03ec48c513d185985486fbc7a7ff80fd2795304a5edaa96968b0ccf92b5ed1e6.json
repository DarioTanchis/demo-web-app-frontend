{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, createCommentVNode as _createCommentVNode, createTextVNode as _createTextVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\";\nconst _hoisted_1 = {\n  id: \"background\"\n};\nconst _hoisted_2 = {\n  class: \"vh-100\",\n  id: \"mysection\"\n};\nconst _hoisted_3 = {\n  class: \"container py-5 h-100\"\n};\nconst _hoisted_4 = {\n  class: \"row d-flex justify-content-center align-items-center h-100\"\n};\nconst _hoisted_5 = {\n  class: \"col col-xl-10\"\n};\nconst _hoisted_6 = {\n  class: \"card\",\n  style: {\n    \"border-radius\": \"1rem\"\n  }\n};\nconst _hoisted_7 = {\n  class: \"row g-0\"\n};\nconst _hoisted_8 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"col-md-6 col-lg-5 d-none d-md-block\"\n}, [/*#__PURE__*/_createElementVNode(\"img\", {\n  src: \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp\",\n  alt: \"login form\",\n  class: \"img-fluid\",\n  style: {\n    \"border-radius\": \"1rem 0 0 1rem\"\n  }\n})], -1 /* HOISTED */);\nconst _hoisted_9 = {\n  class: \"col-md-6 col-lg-7 d-flex align-items-center\"\n};\nconst _hoisted_10 = {\n  class: \"card-body p-4 p-lg-5 text-black\"\n};\nconst _hoisted_11 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"d-flex align-items-center mb-3 pb-1\"\n}, [/*#__PURE__*/_createElementVNode(\"i\", {\n  class: \"fas fa-cubes fa-2x me-3\",\n  style: {\n    \"color\": \"#ff6219\"\n  }\n}), /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"h1 fw-bold mb-0\"\n}, \"Logo\")], -1 /* HOISTED */);\nconst _hoisted_12 = /*#__PURE__*/_createElementVNode(\"h5\", {\n  class: \"fw-normal mb-3 pb-3\",\n  style: {\n    \"letter-spacing\": \"1px\"\n  }\n}, \"Accedi al tuo account\", -1 /* HOISTED */);\nconst _hoisted_13 = {\n  class: \"form-outline mb-4\"\n};\nconst _hoisted_14 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"identifierInput\"\n}, \"Username/Email\", -1 /* HOISTED */);\nconst _hoisted_15 = {\n  class: \"form-outline mb-4\"\n};\nconst _hoisted_16 = /*#__PURE__*/_createElementVNode(\"label\", {\n  class: \"form-label\",\n  for: \"passwordInput\"\n}, \"Password\", -1 /* HOISTED */);\nconst _hoisted_17 = {\n  class: \"pt-1 mb-4\"\n};\nconst _hoisted_18 = {\n  class: \"mb-5 pb-lg-2\",\n  style: {\n    \"color\": \"#393f81\"\n  }\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"section\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"div\", _hoisted_7, [_hoisted_8, _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"div\", _hoisted_10, [_createElementVNode(\"form\", null, [_hoisted_11, _hoisted_12, _createElementVNode(\"div\", _hoisted_13, [_hoisted_14, _withDirectives(_createElementVNode(\"input\", {\n    type: \"text\",\n    id: \"identifierInput\",\n    class: \"form-control form-control-lg\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => this.identifier = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, this.identifier]])]), _createElementVNode(\"div\", _hoisted_15, [_hoisted_16, _withDirectives(_createElementVNode(\"input\", {\n    type: \"password\",\n    id: \"passwordInput\",\n    class: \"form-control form-control-lg\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => this.password = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, this.password]])]), _createElementVNode(\"div\", _hoisted_17, [_createElementVNode(\"button\", {\n    class: \"btn btn-dark btn-lg btn-block\",\n    type: \"button\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.login && $options.login(...args))\n  }, \"Accedi\")]), _createCommentVNode(\"<a class=\\\"small text-muted\\\" href=\\\"#!\\\">Forgot password?</a>\"), _createElementVNode(\"p\", _hoisted_18, [_createTextVNode(\"Non sei registrato? \"), _createElementVNode(\"a\", {\n    onClick: _cache[3] || (_cache[3] = (...args) => $options.goToSignup && $options.goToSignup(...args)),\n    style: {\n      \"color\": \"#393f81\"\n    }\n  }, \"Registrati\")])])])])])])])])])])]);\n}","map":{"version":3,"names":["id","class","style","_createElementVNode","src","alt","for","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","_hoisted_13","_hoisted_14","type","identifier","$event","_hoisted_15","_hoisted_16","password","_hoisted_17","onClick","_cache","args","$options","login","_createCommentVNode","_hoisted_18","goToSignup"],"sources":["/home/dario/Documenti/GitHub/demo-web-app-frontend/src/views/Login.vue"],"sourcesContent":["<template>\n    <div id=\"background\">\n        <section class=\"vh-100\" id = \"mysection\">\n            <div class=\"container py-5 h-100\">\n            <div class=\"row d-flex justify-content-center align-items-center h-100\">\n            <div class=\"col col-xl-10\">\n                <div class=\"card\" style=\"border-radius: 1rem;\">\n                <div class=\"row g-0\">\n                    <div class=\"col-md-6 col-lg-5 d-none d-md-block\">\n                    <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/img1.webp\"\n                        alt=\"login form\" class=\"img-fluid\" style=\"border-radius: 1rem 0 0 1rem;\" />\n                    </div>\n                    <div class=\"col-md-6 col-lg-7 d-flex align-items-center\">\n                    <div class=\"card-body p-4 p-lg-5 text-black\">\n\n                        <form>\n\n                        <div class=\"d-flex align-items-center mb-3 pb-1\">\n                            <i class=\"fas fa-cubes fa-2x me-3\" style=\"color: #ff6219;\"></i>\n                            <span class=\"h1 fw-bold mb-0\">Logo</span>\n                        </div>\n\n                        <h5 class=\"fw-normal mb-3 pb-3\" style=\"letter-spacing: 1px;\">Accedi al tuo account</h5>\n\n                        <div class=\"form-outline mb-4\">\n                            <label class=\"form-label\" for=\"identifierInput\">Username/Email</label>\n                            <input type=\"text\" id=\"identifierInput\" class=\"form-control form-control-lg\" \n                            v-model=\"this.identifier\"/>\n                        </div>\n\n                        <div class=\"form-outline mb-4\">\n                            <label class=\"form-label\" for=\"passwordInput\">Password</label>\n                            <input type=\"password\" id=\"passwordInput\" class=\"form-control form-control-lg\" \n                            v-model=\"this.password\"/>\n                        </div>\n\n                        <div class=\"pt-1 mb-4\">\n                            <button class=\"btn btn-dark btn-lg btn-block\" type=\"button\" @click=\"login\">Accedi</button>\n                        </div>\n\n                        <!--<a class=\"small text-muted\" href=\"#!\">Forgot password?</a>-->  \n                        <p class=\"mb-5 pb-lg-2\" style=\"color: #393f81;\">Non sei registrato? <a @click=\"goToSignup\"\n                            style=\"color: #393f81;\">Registrati</a></p>\n                        </form>\n\n                        </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            </div>\n            </div>\n        </section>\n    </div>\n</template>\n\n<script>\n    import router from '@/router'\n    import { RouterLink } from 'vue-router';\n    import { useUserStore } from '@/stores/user'\n\n    //per login vuole solo email (o nome utente credo) e psw\n    export default{\n    name: \"Login\",\n    data() {\n        return {\n            identifier: \"\", //username or email\n            password: \"\",\n        };\n    },\n    methods: {\n        async login(e) {\n            e.preventDefault();\n            \n            try{\n                const res = await this.axios.post(`http://localhost:1337/api/auth/local`, {\n                    \"data\":{\n                        identifier: this.identifier,\n                        password: this.password\n                    }\n                });\n\n                const { jwt, user } = res.data\n\n                userStore.$patch({ jwt:jwt, name: user.username })\n\n                router.push({\n                    name: \"home\",\n                });\n            }\n            catch(err){\n                alert(\"Login non riuscito\");\n            }\n        },\n        goToSignup(e){\n            e.preventDefault();\n\n            router.push({ name: \"signup\" })\n        }\n    },\n    components: { RouterLink }\n}\n</script>\n\n<style>\n#background{\n    background-color:cornflowerblue;\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    padding-bottom: 10rem;\n}\n\n#mycard{\n    width: 10rem;\n}\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}