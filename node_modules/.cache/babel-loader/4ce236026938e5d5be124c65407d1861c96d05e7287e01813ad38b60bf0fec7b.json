{"ast":null,"code":"import { useRoute } from 'vue-router';\nexport default {\n  name: \"ViewListing\",\n  data() {\n    return {\n      listing: Object,\n      index: 0\n    };\n  },\n  methods: {\n    async fetchListing() {\n      const res = await fetch(\"http://localhost:1337/api/listings/\" + this.$route.params.id + \"?populate=images\");\n      const data = await res.json();\n      this.listing = data.data.attributes;\n      console.log(this.listing);\n    },\n    nextImage(e) {\n      e.preventDefault();\n      const carouselItems = document.getElementsByClassName(\"carousel-item\");\n      this.index = (this.index + 1) % carouselItems.length;\n    },\n    prevImage(e) {\n      e.preventDefault();\n      this.index = (this.index - 1) % carouselItems.length;\n      console.log(this.index);\n    }\n  },\n  async created() {\n    const res = await this.fetchListing();\n  }\n};","map":{"version":3,"names":["useRoute","name","data","listing","Object","index","methods","fetchListing","res","fetch","$route","params","id","json","attributes","console","log","nextImage","e","preventDefault","carouselItems","document","getElementsByClassName","length","prevImage","created"],"sources":["/home/dario/Documenti/GitHub/demo-web-app-frontend/src/views/ViewListing.vue"],"sourcesContent":["<template>\n    <main>\n        <div class=\"container align-items-start\">\n            <div class=\"card\" style=\"width: 40rem;\">\n                <img class=\"card-img-top\" v-if=\"this.listing.images === undefined || this.listing.images.data === null\"\n                src=\"https://www.vectorstock.com/royalty-free-vectors/default-vectors\" alt=\"Card image cap\">\n                <div v-else id=\"carouselExampleControls\" class=\"carousel slide\" data-ride=\"carousel\">\n                    <div v-for=\"(img, index) in this.listing.images.data\" class=\"carousel-inner\">\n                        <div class=\"carousel-item\" :class=\" index===this.index ? 'active' : ''\">\n                            <img class=\"d-block card-img-top\" :src=\"'http://localhost:1337'+img.attributes.url\">\n                        </div>\n                    </div>\n                    <a v-if=\"this.listing.images.data.length > 1\" class=\"carousel-control-prev\" @click=\"prevImage\" role=\"button\" data-slide=\"prev\">\n                        <span class=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                        <span class=\"sr-only\">Previous</span>\n                    </a>\n                    {{ console.log(this.listing.images.data.length) }}\n                    <a v-if=\"this.listing.images.data.length > 1\" class=\"carousel-control-next\" @click=\"nextImage\" role=\"button\" data-slide=\"next\">\n                        <span class=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                        <span class=\"sr-only\">Next</span>\n                    </a>\n                    </div>\n                <div class=\"card-body\">\n                    <h2>{{ listing.title }}</h2>\n                    <p class=\"card-text\">{{ listing.description }}</p>\n                    <h4>Contatti</h4>\n                    <div class=\"row\">\n                        <div v-if=\"this.listing.email\" class=\"col\">\n                            {{ this.listing.email }}\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </main>\n</template>\n\n<script>\n    import { useRoute } from 'vue-router';\n\n    export default{\n        name: \"ViewListing\",\n        data(){\n            return{\n                listing:Object,\n                index:0\n            }\n        },\n        methods:{\n            async fetchListing(){\n                const res = await fetch(\"http://localhost:1337/api/listings/\"+this.$route.params.id+\"?populate=images\" )\n\n                const data = await res.json();\n\n                this.listing = data.data.attributes;\n\n                console.log(this.listing)\n            },\n            nextImage(e){\n                e.preventDefault();\n\n                const carouselItems = document.getElementsByClassName(\"carousel-item\");\n\n                this.index = (this.index + 1) % carouselItems.length;\n            },\n            prevImage(e){\n                e.preventDefault();\n\n                this.index = (this.index - 1) % carouselItems.length;\n\n                console.log(this.index)\n            }\n        },\n        async created(){\n            const res = await this.fetchListing();\n        },\n    }\n</script>\n\n<style>\n    .card {\n            margin: 0 auto; /* Added */\n            float: none; /* Added */\n            margin-bottom: 10px; /* Added */\n            margin-top: 5rem;\n    }\n</style>"],"mappings":"AAsCI,SAASA,QAAO,QAAS,YAAY;AAErC,eAAc;EACVC,IAAI,EAAE,aAAa;EACnBC,IAAIA,CAAA,EAAE;IACF,OAAM;MACFC,OAAO,EAACC,MAAM;MACdC,KAAK,EAAC;IACV;EACJ,CAAC;EACDC,OAAO,EAAC;IACJ,MAAMC,YAAYA,CAAA,EAAE;MAChB,MAAMC,GAAE,GAAI,MAAMC,KAAK,CAAC,qCAAqC,GAAC,IAAI,CAACC,MAAM,CAACC,MAAM,CAACC,EAAE,GAAC,kBAAmB;MAEvG,MAAMV,IAAG,GAAI,MAAMM,GAAG,CAACK,IAAI,CAAC,CAAC;MAE7B,IAAI,CAACV,OAAM,GAAID,IAAI,CAACA,IAAI,CAACY,UAAU;MAEnCC,OAAO,CAACC,GAAG,CAAC,IAAI,CAACb,OAAO;IAC5B,CAAC;IACDc,SAASA,CAACC,CAAC,EAAC;MACRA,CAAC,CAACC,cAAc,CAAC,CAAC;MAElB,MAAMC,aAAY,GAAIC,QAAQ,CAACC,sBAAsB,CAAC,eAAe,CAAC;MAEtE,IAAI,CAACjB,KAAI,GAAI,CAAC,IAAI,CAACA,KAAI,GAAI,CAAC,IAAIe,aAAa,CAACG,MAAM;IACxD,CAAC;IACDC,SAASA,CAACN,CAAC,EAAC;MACRA,CAAC,CAACC,cAAc,CAAC,CAAC;MAElB,IAAI,CAACd,KAAI,GAAI,CAAC,IAAI,CAACA,KAAI,GAAI,CAAC,IAAIe,aAAa,CAACG,MAAM;MAEpDR,OAAO,CAACC,GAAG,CAAC,IAAI,CAACX,KAAK;IAC1B;EACJ,CAAC;EACD,MAAMoB,OAAOA,CAAA,EAAE;IACX,MAAMjB,GAAE,GAAI,MAAM,IAAI,CAACD,YAAY,CAAC,CAAC;EACzC;AACJ"},"metadata":{},"sourceType":"module","externalDependencies":[]}