{"ast":null,"code":"import { createCommentVNode as _createCommentVNode, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, toDisplayString as _toDisplayString, renderList as _renderList, Fragment as _Fragment, vModelText as _vModelText, withDirectives as _withDirectives } from \"vue\";\nconst _hoisted_1 = {\n  class: \"navbar navbar-expand-lg navbar-light\",\n  style: {\n    \"background-color\": \"#e3f2fd\"\n  }\n};\nconst _hoisted_2 = /*#__PURE__*/_createElementVNode(\"button\", {\n  class: \"navbar-toggler\",\n  type: \"button\",\n  \"data-toggle\": \"collapse\",\n  \"data-target\": \"#navbarSupportedContent\",\n  \"aria-controls\": \"navbarSupportedContent\",\n  \"aria-expanded\": \"false\",\n  \"aria-label\": \"Toggle navigation\"\n}, [/*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"navbar-toggler-icon\"\n})], -1 /* HOISTED */);\nconst _hoisted_3 = {\n  class: \"collapse navbar-collapse\",\n  id: \"navbarSupportedContent\"\n};\nconst _hoisted_4 = {\n  class: \"navbar-nav mr-auto\"\n};\nconst _hoisted_5 = {\n  class: \"nav-item active\"\n};\nconst _hoisted_6 = {\n  key: 0,\n  class: \"sr-only\"\n};\nconst _hoisted_7 = {\n  class: \"nav-item\"\n};\nconst _hoisted_8 = {\n  key: 0,\n  class: \"sr-only\"\n};\nconst _hoisted_9 = {\n  class: \"nav-item\"\n};\nconst _hoisted_10 = {\n  key: 0,\n  class: \"sr-only\"\n};\nconst _hoisted_11 = {\n  class: \"nav-item dropdown\"\n};\nconst _hoisted_12 = {\n  class: \"nav-link dropdown-toggle\",\n  href: \"#\",\n  id: \"dropdownMenuButton1\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-haspopup\": \"true\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_13 = {\n  class: \"dropdown-menu\",\n  \"aria-labelledby\": \"dropdownMenuButton1\"\n};\nconst _hoisted_14 = [\"onClick\"];\nconst _hoisted_15 = {\n  key: 0\n};\nconst _hoisted_16 = {\n  key: 0,\n  class: \"nav-item dropdown\"\n};\nconst _hoisted_17 = {\n  class: \"nav-link dropdown-toggle\",\n  id: \"dropdownMenuButton1\",\n  \"data-bs-toggle\": \"dropdown\",\n  \"aria-haspopup\": \"true\",\n  \"aria-expanded\": \"false\"\n};\nconst _hoisted_18 = {\n  class: \"dropdown-menu\",\n  \"aria-labelledby\": \"dropdownMenuButton1\"\n};\nconst _hoisted_19 = /*#__PURE__*/_createElementVNode(\"div\", {\n  class: \"navbar-collapse collapse w-100 order-3 dual-collapse2\"\n}, [/*#__PURE__*/_createElementVNode(\"ul\", {\n  class: \"navbar-nav ml-auto navbar-end\"\n}, [/*#__PURE__*/_createElementVNode(\"li\", {\n  class: \"nav-item\"\n}, [/*#__PURE__*/_createElementVNode(\"button\", {\n  type: \"button\",\n  class: \"btn btn-danger\"\n}, \"Inserisci annuncio\")])])], -1 /* HOISTED */);\nconst _hoisted_20 = {\n  key: 0,\n  class: \"form-inline my-2 my-lg-0 search\"\n};\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"nav\", _hoisted_1, [_createCommentVNode(\"<a class=\\\"navbar-brand\\\">Navbar</a>\"), _hoisted_2, _createElementVNode(\"div\", _hoisted_3, [_createElementVNode(\"ul\", _hoisted_4, [_createElementVNode(\"li\", _hoisted_5, [_createElementVNode(\"a\", {\n    class: \"nav-link\",\n    onClick: _cache[0] || (_cache[0] = (...args) => $options.goToHome && $options.goToHome(...args))\n  }, [_createTextVNode(\"Home\"), this.isHome ? (_openBlock(), _createElementBlock(\"span\", _hoisted_6, \"(current)\")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"li\", _hoisted_7, [_createElementVNode(\"a\", {\n    class: \"nav-link\",\n    onClick: _cache[1] || (_cache[1] = (...args) => $options.goToLogin && $options.goToLogin(...args))\n  }, [_createTextVNode(\"Accedi\"), this.isLogin ? (_openBlock(), _createElementBlock(\"span\", _hoisted_8, \"(current)\")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"li\", _hoisted_9, [_createElementVNode(\"a\", {\n    class: \"nav-link\",\n    onClick: _cache[2] || (_cache[2] = (...args) => $options.goToSignup && $options.goToSignup(...args))\n  }, [_createTextVNode(\"Registrati\"), this.isSignup ? (_openBlock(), _createElementBlock(\"span\", _hoisted_10, \"(current)\")) : _createCommentVNode(\"v-if\", true)])]), _createElementVNode(\"li\", _hoisted_11, [_createElementVNode(\"a\", _hoisted_12, _toDisplayString(this.category === '' ? 'Seleziona categoria' : this.category), 1 /* TEXT */), _createElementVNode(\"ul\", _hoisted_13, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(this.categories, c => {\n    return _openBlock(), _createElementBlock(\"li\", null, [_createElementVNode(\"a\", {\n      class: \"dropdown-item\",\n      onClick: $event => $options.CategoryFilter($event, c.attributes.name)\n    }, _toDisplayString(c.attributes.name), 9 /* TEXT, PROPS */, _hoisted_14)]);\n  }), 256 /* UNKEYED_FRAGMENT */)), this.category !== '' ? (_openBlock(), _createElementBlock(\"li\", _hoisted_15, [_createElementVNode(\"a\", {\n    class: \"dropdown-item\",\n    onClick: _cache[3] || (_cache[3] = $event => $options.CategoryFilter($event, ''))\n  }, \" Nessun categoria\")])) : _createCommentVNode(\"v-if\", true)])]), this.userStore.logged ? (_openBlock(), _createElementBlock(\"li\", _hoisted_16, [_createElementVNode(\"a\", _hoisted_17, _toDisplayString($data.userStore.name), 1 /* TEXT */), _createElementVNode(\"ul\", _hoisted_18, [_createElementVNode(\"li\", null, [_createElementVNode(\"a\", {\n    class: \"dropdown-item\",\n    onClick: _cache[4] || (_cache[4] = (...args) => $options.logout && $options.logout(...args))\n  }, \"Logout\")])])])) : _createCommentVNode(\"v-if\", true)]), _hoisted_19, $data.isHome ? (_openBlock(), _createElementBlock(\"form\", _hoisted_20, [_createElementVNode(\"span\", null, [_withDirectives(_createElementVNode(\"input\", {\n    \"onUpdate:modelValue\": _cache[5] || (_cache[5] = $event => $data.searchString = $event),\n    class: \"form-control mr-sm-2\",\n    type: \"search\",\n    placeholder: \"Search\",\n    \"aria-label\": \"Search\"\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.searchString]])]), _createElementVNode(\"button\", {\n    class: \"btn btn-outline-success my-2 my-sm-0\",\n    type: \"submit\",\n    onClick: _cache[6] || (_cache[6] = (...args) => this.Search && this.Search(...args))\n  }, \"Cerca\")])) : _createCommentVNode(\"v-if\", true)])]);\n}","map":{"version":3,"names":["class","style","_createElementVNode","type","id","href","_createElementBlock","_hoisted_1","_createCommentVNode","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","onClick","_cache","args","$options","goToHome","isHome","_hoisted_6","_hoisted_7","goToLogin","isLogin","_hoisted_8","_hoisted_9","goToSignup","isSignup","_hoisted_10","_hoisted_11","_hoisted_12","_toDisplayString","category","_hoisted_13","_Fragment","_renderList","categories","c","$event","CategoryFilter","attributes","name","_hoisted_14","_hoisted_15","userStore","logged","_hoisted_16","_hoisted_17","$data","_hoisted_18","logout","_hoisted_19","_hoisted_20","searchString","placeholder","Search"],"sources":["/home/dario/Documenti/GitHub/demo-web-app-frontend/src/components/BSNavbar.vue"],"sourcesContent":["<template>\n    <nav class=\"navbar navbar-expand-lg navbar-light\" style=\"background-color: #e3f2fd;\">\n        <!--<a class=\"navbar-brand\">Navbar</a>-->\n        <button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarSupportedContent\" aria-controls=\"navbarSupportedContent\" \n        aria-expanded=\"false\" aria-label=\"Toggle navigation\">\n            <span class=\"navbar-toggler-icon\"></span>\n        </button>\n        \n        <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\n            <ul class=\"navbar-nav mr-auto\">\n                <li class=\"nav-item active\">\n                    <a class=\"nav-link\" @click=\"goToHome\">Home<span v-if=\"this.isHome\" class=\"sr-only\">(current)</span></a>\n                </li>\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" @click=\"goToLogin\">Accedi<span v-if=\"this.isLogin\" class=\"sr-only\">(current)</span></a>\n                </li>\n                <li class=\"nav-item\">\n                    <a class=\"nav-link\" @click=\"goToSignup\">Registrati<span v-if=\"this.isSignup\" class=\"sr-only\">(current)</span></a>\n                </li>\n                <li class=\"nav-item dropdown\">\n                    <a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {{ this.category === '' ? 'Seleziona categoria' : this.category }}\n                    </a>\n                    <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                        <li v-for=\"c in this.categories\"><a class=\"dropdown-item\" @click=\"CategoryFilter($event, c.attributes.name)\">{{ c.attributes.name }}</a></li>\n                        <li v-if=\"this.category !== ''\"><a class=\"dropdown-item\" @click=\"CategoryFilter($event, '')\"> Nessun categoria</a></li>\n                    </ul>\n                </li>\n                <li v-if=\"this.userStore.logged\" class=\"nav-item dropdown\">\n                    <a class=\"nav-link dropdown-toggle\" id=\"dropdownMenuButton1\" data-bs-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                    {{ userStore.name }}\n                    </a>\n                    <ul class=\"dropdown-menu\" aria-labelledby=\"dropdownMenuButton1\">\n                        <li><a class=\"dropdown-item\" @click=\"logout\">Logout</a></li>\n                    </ul>\n                </li>\n            </ul>   \n        \n            <div class=\"navbar-collapse collapse w-100 order-3 dual-collapse2\">\n                <ul class=\"navbar-nav ml-auto navbar-end\">\n                    <li class=\"nav-item\">\n                        <button type=\"button\" class=\"btn btn-danger\">Inserisci annuncio</button>\n                \n                    </li>\n                </ul>\n            </div>\n            \n            <form v-if=\"isHome\" class=\"form-inline my-2 my-lg-0 search\">\n            <span><input v-model=\"searchString\" class=\"form-control mr-sm-2\" type=\"search\" placeholder=\"Search\" aria-label=\"Search\"></span>\n            <button class=\"btn btn-outline-success my-2 my-sm-0\" type=\"submit\" @click=\"this.Search\">Cerca</button>\n            </form>\n            \n        </div>\n    </nav>\n</template>\n\n<script>\n    import router from '@/router';\n    import { useUserStore } from \"@/stores/user\";\n    import { useSearchStore } from '@/stores/search';\n\n    export default{\n        name:\"BSNavbar\",\n        data(){\n            return{\n                categories: Array,\n                userStore: Object,\n                isHome: Boolean,\n                isLogin: Boolean,\n                isSignup: Boolean,\n                searchString:'',\n                category:'',\n                searchStore:''\n            }\n        },\n        props:{\n        },\n        watch: {\n            '$route': function (from, to) {\n                console.log(\"new route set\");\n\n                this.isHome = this.$route.name === 'home';\n                this.isLogin = this.$route.name === 'login';\n                this.isSignup = this.$route.name === 'signup';\n            }   \n        },\n        async created(){\n            this.categories = await this.fetchCategories();\n            \n            this.userStore = useUserStore();\n            this.searchStore = useSearchStore();\n\n            this.searchString = this.searchStore.search;\n            this.category = this.searchStore.category;\n        },\n        methods:{\n            async fetchCategories(){\n                const res = await fetch(\"http://localhost:1337/api/categories\")\n\n                const data = await res.json();\n\n                console.log(data);\n\n                return data.data;\n            },\n            goToLogin(e){\n                e.preventDefault();\n\n                router.push({name:'login'});\n            },\n            goToSignup(e){\n                e.preventDefault();\n                \n                router.push({name:'signup'})\n\n                console.log(\"go to signup\")\n            },\n            goToHome(e){\n                e.preventDefault();\n                \n                router.push({name:'home'})\n\n                console.log(\"go to home\")\n            },\n            logout(e){\n                e.preventDefault();\n\n                this.userStore.$patch({jwt:'',name:''})\n            },\n            Search(e){\n                e.preventDefault();\n\n                const searchStore = useSearchStore();\n\n                searchStore.$patch({ search:this.searchString });\n            },\n            CategoryFilter(e, cat){\n                e.preventDefault();\n\n                this.category = cat\n\n                const searchStore = useSearchStore();\n\n                searchStore.$patch({ category:cat });\n            }\n        },\n    }\n</script>\n\n<style>\n    .search{\n        display: flex;\n        flex-direction: row;\n        position: absolute;\n        right: 0;\n        margin-right: 20px;\n    }\n\n    .search > * {\n        margin-right: 10px;\n    }\n</style>"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}